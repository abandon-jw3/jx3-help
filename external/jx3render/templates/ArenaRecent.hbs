<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>战绩查询</title>
  <style>
    @font-face {
      font-family: "DengXian";
      src: local("DengXian"), local("SimHei");
    }

    /* Reset & Base */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      width: 1200px;
      margin: 0 auto;
      font-family: "Microsoft YaHei", "Heiti SC", sans-serif;
      background-color: #f0f0f0;
      /* Neo Gray Background */
      background-image:
        linear-gradient(90deg, #bebebe 1px, transparent 1px),
        linear-gradient(#bebebe 1px, transparent 1px);
      background-size: 40px 40px;
      color: #000;
      padding: 40px;
    }

    /* Header Section */
    .page-header {
      margin-bottom: 30px;
      text-align: left;
      position: relative;
    }

    .page-title {
      font-size: 36px;
      font-weight: 900;
      color: #000;
      display: inline-block;
      background: #ffeb3b;
      /* Safety Yellow */
      padding: 15px 30px;
      border: 4px solid #000;
      box-shadow: 8px 8px 0px 0px #000;
      transform: rotate(-2deg);
      text-transform: uppercase;
      letter-spacing: -1px;
    }

    .page-subtitle {
      margin-top: 15px;
      display: inline-block;
      background: #000;
      color: #fff;
      padding: 8px 16px;
      border: 3px solid #000;
      font-weight: 900;
      font-size: 16px;
      box-shadow: 4px 4px 0px 0px rgba(0, 0, 0, 0.3);
      transform: rotate(1deg);
    }

    /* Card Container */
    .card {
      background: #ffffff;
      border: 4px solid #000;
      box-shadow: 12px 12px 0px 0px #000;
      padding: 20px;
    }

    /* Player Info Section */
    .player-info-container {
        display: flex;
        align-items: flex-end;
        gap: 30px;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 4px solid #000;
    }

    .avatar-wrapper {
        position: relative;
    }

    .avatar {
        width: 120px;
        height: 120px;
        border: 4px solid #000;
        box-shadow: 6px 6px 0 #000;
        object-fit: cover;
    }

    .info-content {
        flex: 1;
    }

    .role-name {
        font-size: 48px;
        font-weight: 900;
        line-height: 1;
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: -1px;
        text-shadow: 3px 3px 0 rgba(0,0,0,0.1);
    }

    .tags-row {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    .tag {
        font-size: 16px;
        font-weight: 700;
        padding: 4px 12px;
        background: #000;
        color: #fff;
        transform: skew(-10deg);
        border: 2px solid #000;
    }

    .tag-server {
        background: #fff;
        color: #000;
    }

    .tag-force { background: #ff9f43; color: #000; }
    .tag-camp { background: #5f27cd; }
    .tag-tong { background: #ff6b6b; color: #000; }

    /* Stats Grid */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin-bottom: 30px;
    }

    .stat-card {
        border: 3px solid #000;
        background: #fff;
        padding: 15px;
        text-align: center;
        box-shadow: 4px 4px 0 #000;
        transition: transform 0.1s;
    }

    .stat-card:hover {
        transform: translate(-2px, -2px);
        box-shadow: 6px 6px 0 #000;
    }

    .stat-label {
        font-size: 16px;
        font-weight: 900;
        text-transform: uppercase;
        margin-bottom: 5px;
        color: #636e72;
    }

    .stat-value {
        font-family: "DengXian", sans-serif;
        font-size: 36px;
        font-weight: 900;
        color: #000;
    }

    .stat-sub {
        background: #000;
        color: #fff;
        display: inline-block;
        padding: 2px 8px;
        font-size: 14px;
        font-weight: 700;
        margin-top: 5px;
    }

    /* Table Styling */
    .table-container {
      width: 100%;
      overflow-x: auto;
    }

    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
    }

    thead {
      background-color: #000;
    }

    th {
      padding: 15px;
      text-align: center;
      font-weight: 900;
      font-size: 20px;
      color: #fff;
      border: 3px solid #000;
      white-space: nowrap;
      text-transform: uppercase;
    }

    tbody tr:nth-child(odd) {
      background-color: #e0f7fa;
    }

    tbody tr:nth-child(even) {
      background-color: #fce4ec;
    }

    td {
      padding: 15px;
      text-align: center;
      vertical-align: middle;
      font-size: 20px;
      border-right: 3px solid #000;
      border-bottom: 3px solid #000;
      color: #000;
      font-weight: bold;
    }

    td:first-child {
      border-left: 3px solid #000;
    }

    /* Result Cells */
    .result-win {
        color: #fff;
        background: #1dd1a1;
        padding: 4px 12px;
        border: 2px solid #000;
        box-shadow: 2px 2px 0 #000;
        display: inline-block;
    }

    .result-loss {
        color: #fff;
        background: #ff6b6b;
        padding: 4px 12px;
        border: 2px solid #000;
        box-shadow: 2px 2px 0 #000;
        display: inline-block;
        opacity: 0.8;
    }

    .mvp-tag {
        position: absolute;
        top: -8px;
        right: -8px;
        background: #feca57;
        color: #000;
        font-size: 12px;
        font-weight: 900;
        padding: 2px 4px;
        border: 2px solid #000;
        transform: rotate(15deg);
    }

    .result-cell-wrapper {
        position: relative;
        display: inline-block;
    }

    .mmr-up { color: #10ac84; font-weight: 900; font-size: 22px; }
    .mmr-down { color: #ee5253; font-weight: 900; font-size: 22px; }

    .time-date {
        display: block;
        font-size: 18px;
    }

    .time-duration {
        font-size: 14px;
        color: #636e72;
    }

    .empty-state {
        text-align: center;
        padding: 40px;
        font-size: 24px;
        font-weight: 900;
        color: #b2bec3;
        font-style: italic;
    }

  </style>
</head>

<body>
  <div class="container">

    <div class="page-header">
      <div class="page-title">
        <span>JX3 ARENA RECORD</span>
      </div>
      <br>
      <div class="page-subtitle">名剑大会战绩查询</div>
    </div>

    <div class="card">
        <!-- Player Info -->
        <div class="player-info-container">
            <div class="avatar-wrapper">
                <img src="{{personAvatar}}" class="avatar" />
            </div>
            <div class="info-content">
                <div class="role-name">{{roleName}}</div>
                <div class="tags-row">
                    <span class="tag tag-server">{{zoneName}} {{serverName}}</span>
                    <span class="tag tag-force">{{forceName}}</span>
                    <span class="tag">{{bodyName}}</span>
                    <span class="tag tag-camp">{{campName}}</span>
                    {{#if tongName}}<span class="tag tag-tong">帮会: {{tongName}}</span>{{/if}}
                </div>
            </div>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">CURRENT GRADE</div>
                <div class="stat-value">{{performance.grade}}段</div>
                <div class="stat-sub">MMR {{performance.mmr}}</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">WIN RATE</div>
                <div class="stat-value">{{performance.winRate}}%</div>
                <div class="stat-sub">{{performance.winCount}}胜 / {{performance.totalCount}}场</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">RANKING</div>
                <div class="stat-value">{{performance.ranking}}</div>
                <div class="stat-sub">MVP: {{performance.mvpCount}}</div>
            </div>
        </div>

        <!-- History Table -->
        <div class="table-container">
            {{#if history.length}}
            <table>
            <thead>
                <tr>
                <th width="20%">RESULT / 结果</th>
                <th width="15%">CHANGE / 分数变化</th>
                <th width="30%">TIME / 时间</th>
                <th width="15%">MMR / 当前分数</th>
                <th width="10%">AVG / 平均段位</th>
                <th width="10%">DURA / 时长</th>
                </tr>
            </thead>
            <tbody>
                {{#each history}}
                <tr>
                <td>
                    <div class="result-cell-wrapper">
                        {{#if won}}
                        <span class="result-win">VICTORY</span>
                        {{else}}
                        <span class="result-loss">DEFEAT</span>
                        {{/if}}
                        {{#if mvp}}
                        <span class="mvp-tag">MVP</span>
                        {{/if}}
                    </div>
                </td>
                <td>
                    <span class="{{#if won}}mmr-up{{else}}mmr-down{{/if}}">{{mmr}}</span>
                </td>
                <td>
                    <span class="time-date">{{formatTime endTime 'MM-DD HH:mm'}}</span>
                </td>
                <td>{{totalMmr}}</td>
                <td>{{avgGrade}}段</td>
                <td><span class="time-duration">{{duration startTime endTime}}</span></td>
                </tr>
                {{/each}}
            </tbody>
            </table>
            {{else}}
            <div class="empty-state">NO RECENT RECORDS FOUND</div>
            {{/if}}
        </div>
    </div>
  </div>
</body>

</html>
